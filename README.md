# 网格交易助手

## 项目介绍
提供网格化交易的信息展示、数据记录、自动计算、交易提醒等功能。
该产品使用了普适性技术栈，可以便捷迁移到其他端和微信小程序等主流平台。

## 功能特点
### 市场概览
- 实时展示主要市场指数（上证、沪深300、创业板、科创50等）
- 清晰的涨跌幅度展示（进度条可视化）
- 成交量和成交额数据展示
- 自动更新行情数据

### 界面设计
- 现代简约的设计风格
- 磨砂玻璃效果（backdrop-blur）
- 流畅的动画过渡效果
- 响应式布局，适配多种设备
- 优雅的数据可视化

## 用户旅程
1. 进入首页，展示一些宽基指数信息供参考。
2. 选择一个基金（提供基于名称/编号的下拉筛选），进入网格化交易页面。
3. 输入网格交易策略，只需要三个参数，买入网格宽度（百分比）、卖出网格宽度（百分比）和网格数量（整数）。
4. 记录网格交易历史，即用户输入一个交易日期，自动带出该日期网格交易数据。（当日净值，累计净值，买入金额，买入份额，预计卖出的净值，预计卖出的累计净值），其中买入金额需要用户输入，预计卖出按照卖出网格宽度自动计算
5. 当当前数据不是第一条的时候，和上一条数据进行比较，增加实际网格宽度列（实际网格宽度 = （当前累计净值 - 上一条累计净值）/ 上一条累计净值）
6. 新增的数据默认是持有状态，点击卖出按钮，自动计算卖出金额和卖出份额，并记录到表格中。（如果当日未收盘，则获取实时信息，给出预计卖出的分析，不修改数据）注意：只能卖出最末一条（操作类似堆栈），其他卖出按钮不可点击
7. 但是用户依然可以新增买入，已卖出的整行置灰，这样持仓的一目了然。
8. 数据的最后一行是预计买入，基于上一行净值根据买入网格宽度（百分比）自动计算。同时展示实时净值和差距百分比。在此条上可以点击买入按钮，逻辑同6
9. 页面底部展示一个当日的净值估算图，用于呈现当日基金交易情况
10. 用户可以退出当前页面，返回首页。此时首页下面展示增加的基金的持仓数量，使用的网格占比，以及当前盈亏数据。
11. 数据持久化，退出不丢失

## 技术栈
- 前端框架：React 18 + TypeScript 5
- UI组件库：Ant Design 5.x
- 状态管理：Redux Toolkit + Redux Persist（数据持久化）
- 样式方案：Tailwind CSS
- 图表库：ECharts 5.x
- HTTP 客户端：Axios
- 日期处理：Day.js
- 构建工具：Vite 6
- 包管理器：pnpm

## 接口依赖
- 天天基金网 API（非官方）
  - 基金列表搜索：https://fundsuggest.eastmoney.com/FundSearch/api/FundSearchAPI.ashx
  - 基金详情：http://fund.eastmoney.com/pingzhongdata/{基金代码}.js
  - 基金历史净值：http://api.fund.eastmoney.com/f10/lsjz
  - 基金实时估值：https://fundgz.1234567.com.cn/js/{基金代码}.js
- 上证指数等市场指数行情：使用新浪财经 API
  - 指数行情：https://hq.sinajs.cn/list=s_sh000001

## 开发说明

### 环境要求
- Node.js >= 18
- pnpm >= 8

### 本地开发
1. 安装依赖
```bash
pnpm install
```

2. 启动开发服务器
```bash
pnpm dev
```

3. 打开浏览器访问 http://localhost:5173

### 项目结构
```
src/
  ├── components/        # 公共组件
  ├── pages/            # 页面组件
  ├── store/            # Redux 状态管理
  ├── services/         # API 服务
  ├── utils/            # 工具函数
  ├── hooks/            # 自定义 Hooks
  ├── types/            # TypeScript 类型定义
  └── assets/           # 静态资源
```

## ChangeLog

### 2015-01-15
- 初始化项目
- 选择技术栈
- 创建基础项目结构
- 配置 Redux 持久化存储
- 实现基础布局
- 添加市场概览页面

### 2015-01-16
- 优化市场概览页面
  - 重新设计页面布局和视觉风格
  - 添加磨砂玻璃效果和渐变背景
  - 优化指数卡片设计
  - 改进数据展示方式
  - 添加涨跌幅度进度条
  - 优化更新时间显示
- 数据服务优化
  - 更新新浪财经 API 代理配置
  - 优化数据刷新机制
- UI/UX 改进
  - 实现响应式布局
  - 添加交互动画效果
  - 优化色彩系统
  - 改进视觉层次